/*
 *    Created by: Andrew O'Shei
 * 
 *    Bluetooth functions
 * 
 */

#ifndef BLUETOOTH_FUNCTIONS_H
#define BLUETOOTH_FUNCTIONS_H

#include <Arduino.h>
#include <BluetoothSerial.h>
#include "esp_bt_main.h"
#include "esp_bt_device.h"
#include "data_helpers.h"
#include "data_writer.h"

extern String arrName[20];
extern int arrNameC;

extern uint8_t arrAddr[20][6];
extern int arrAddrC;

extern String devicesPath;

extern int deviceTotal;

void setupSerialBT();

void btAdvertisedDeviceFound(BTAdvertisedDevice* pDevice);

bool startBTScan();

bool stopBTScan();

String printDeviceAddress();

String getDeviceCount();

int getDeviceTotal();

void setDeviceCount(int count);

void spoofBTDevice(int device);

#endif


#if !defined(CONFIG_BT_ENABLED) || !defined(CONFIG_BLUEDROID_ENABLED)
#error Bluetooth is not enabled! Please run `make menuconfig` to and enable it
#endif
